import{a as T}from"./chunk-H6HNA746.js";import{D as k,E as x,F as h,G as b,H as l,I as o,J as r,K as v,L as s,M as _,P as a,Q as P,R as C,T as y,X as S,Z as w,e as u,ea as E,fa as I,ha as H,n as p,p as c,t as g,u as m,y as f}from"./chunk-YUVSGKOH.js";var M=i=>["/pokemon",i],R=(i,e)=>e.name;function D(i,e){i&1&&(o(0,"p",8),a(1,"Cargando..."),r())}function F(i,e){if(i&1&&(o(0,"article",10),v(1,"img",11),o(2,"h3",12),a(3),r(),o(4,"a",13),a(5," Ver Detalles "),r()()),i&2){let t=e.$implicit,n=_();m(),l("src",n.getImgUrl(t.url),g),m(2),P(t.name),m(),l("routerLink",y(3,M,n.getPokemonId(t.url)))}}var L=class i{pokemonService=p(T);router=p(E);offset=c(0);limit=c(20);pokemonResource=S({params:()=>({offset:this.offset(),limit:this.limit()}),loader:async({params:e})=>await u(this.pokemonService.getPokemonList(e.offset,e.limit))});totalPokemons=()=>this.pokemonResource.value()?.count??0;pokemonList=()=>this.pokemonResource.value()?.results??[];getPokemonId(e){let t=e.split("/");return t[t.length-2]}getImgUrl(e){return`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${this.getPokemonId(e)}.png`}nextPage(){this.offset.update(e=>e+20)}prevPage(){this.offset.update(e=>Math.max(0,e-20))}logout(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=f({type:i,selectors:[["app-home-page"]],decls:17,vars:3,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold","text-red-600"],[1,"bg-gray-800","text-white","px-4","py-2","rounded",3,"click"],[1,"flex","gap-4","mb-6","justify-center"],[1,"px-4","py-2","bg-white","border","rounded","disabled:opacity-50",3,"click","disabled"],[1,"px-4","py-2","bg-red-600","text-white","rounded",3,"click"],[1,"text-2xl","font-bold","text-red-950"],[1,"text-center"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-4","gap-4"],[1,"bg-white","p-4","rounded","shadow","hover:shadow-lg","transition","text-center","border"],[1,"w-24","h-24","mx-auto",3,"src"],[1,"font-bold","capitalize","text-lg"],[1,"text-blue-600","underline","mt-2","block",3,"routerLink"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"header",1)(2,"h1",2),a(3,"pokemon"),r(),o(4,"button",3),s("click",function(){return n.logout()}),a(5,"Salir"),r()(),o(6,"div",4)(7,"button",5),s("click",function(){return n.prevPage()}),a(8," Anterior "),r(),o(9,"button",6),s("click",function(){return n.nextPage()}),a(10," Siguiente "),r()(),o(11,"h2",7),a(12),r(),k(13,D,2,0,"p",8),o(14,"section",9),h(15,F,6,5,"article",10,R),r()()),t&2&&(m(7),l("disabled",n.offset()===0),m(5),C("Total de Pokemones: ",n.totalPokemons()),m(),x(n.pokemonResource.isLoading()?13:-1),m(2),b(n.pokemonList()))},dependencies:[w,H,I],encapsulation:2})};export{L as HomePageComponent};
